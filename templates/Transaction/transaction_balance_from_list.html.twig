{% extends get_admin_template('base_list_field', admin.code) %}

{% block field %}
    {% apply spaceless %}
        {% set transactionTypes = ['Account charge', 'Bank payment', 'Card payment', 'Cash payment'] %}

        {% if object.getTransferFromAccount %}
            {{ object.balanceTransferFromAccount|format_currency(object.transferFromAccount.currency) }}
        {% elseif object.getTransactionType.name in transactionTypes %}
            {{ object.balanceMainAccount|format_currency(object.mainAccount.currency) }}
        {% else %}
            {{ '-' }}
        {% endif %}
    {% endapply %}
{% endblock %}
